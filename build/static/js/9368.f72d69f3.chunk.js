"use strict";(self.webpackChunk_coreui_coreui_pro_react_admin_template_cra=self.webpackChunk_coreui_coreui_pro_react_admin_template_cra||[]).push([[9368],{62770:(e,r,t)=>{t.d(r,{Xh:()=>l});const l={Admin:"admin",Manufacturer:"Manufacturer",Distributor:"Distributor"}},79368:(e,r,t)=>{t.r(r),t.d(r,{default:()=>f});var l=t(65043),a=t(73216),s=t(35475),c=t(64716),i=t(50280),o=t(63821),n=t(67603),d=t(25943),m=t(52171),u=t(77608),h=t(6145),p=t(64214),b=t(11974),x=t(77154),g=t(62770),j=t(70579);const f=()=>{const e=(0,a.Zp)(),[r,t]=(0,l.useState)([]),[f,y]=(0,l.useState)("");(0,l.useEffect)((()=>{y(localStorage.getItem("role")),x.A.get("product/findAll",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((e=>t(e.data.data))).catch((e=>console.error("error fetching products",e)))}),[]);return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:(0,j.jsx)(c.T,{children:(0,j.jsx)(i.s,{className:"justify-content-center",children:(0,j.jsx)(o.U,{xl:12,children:(0,j.jsx)(n.E,{className:"mb-4",children:(0,j.jsxs)(d.W,{className:"p-4",children:[(0,j.jsxs)(i.s,{className:"p-4",children:[(0,j.jsx)(o.U,{sm:5,children:(0,j.jsx)("h4",{children:"Products"})}),(0,j.jsx)(o.U,{sm:7,className:"d-none d-md-block",children:f!=g.Xh.ClientViewOnly?(0,j.jsx)(s.N_,{to:"/addProduct",children:(0,j.jsx)(m.Q,{className:"btn btn-primary float-end",type:"button",children:"Add New Product"})}):""})]}),(0,j.jsx)(o.U,{md:12,children:(0,j.jsx)(u.P,{activePage:2,cleaner:!0,clickableRows:!0,columns:[{key:"name",label:"Name",filter:!1},{key:"isActive",label:"Published",filter:!1,sorter:!1},{key:"client",label:"Company",filter:!1},{key:"actions",label:"Actions",filter:!1,sorter:!1,_style:{width:"20%"}}],columnFilter:!0,columnSorter:!0,items:r,itemsPerPageSelect:!0,itemsPerPage:5,pagination:!0,onFilteredItemsChange:e=>{console.log(e)},onSelectedItemsChange:e=>{console.log(e)},scopedColumns:{isActive:e=>(0,j.jsx)("td",{children:e.isActive?"Published":"Unpublished"}),client:e=>(0,j.jsx)("td",{children:0!==e.distributers.length?e.distributers.map(((e,r)=>(0,j.jsxs)("span",{children:[e.companyName,", "]},r))):"N/A"}),actions:r=>(0,j.jsxs)("td",{children:[(0,j.jsx)("div",{onClick:t=>e("/editProduct",{state:{productId:r.id,permission:r.permission}}),children:(0,j.jsx)(h.A,{icon:p.I,className:"me-2"})}),r.permission?(0,j.jsx)(h.A,{icon:b.W,className:"me-2",onClick:e=>((e,r,t)=>{e.preventDefault(),window.confirm("You are about to Delete ".concat(t," and it will not be able to be retrieved. Are you sure?"))?x.A.delete("/product/delete/".concat(r),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((e=>{window.location.reload()})).catch((e=>{console.error("Error deleting product:",e)})):console.log("Deletion canceled")})(e,r.id,r.name)}):""]})},selectable:!0,sorterValue:{column:"createdAt",state:"desc"},tableFilter:!0,tableProps:{className:"add-this-class",responsive:!0,striped:!0,hover:!0},tableBodyProps:{className:"align-middle"}})})]})})})})})})})}},11974:(e,r,t)=>{t.d(r,{W:()=>l});var l=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='227.313 363.313 312 278.627 396.687 363.313 419.313 340.687 334.627 256 419.313 171.313 396.687 148.687 312 233.373 227.313 148.687 204.687 171.313 289.373 256 204.687 340.687 227.313 363.313' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M472,64H194.644a24.091,24.091,0,0,0-17.42,7.492L16,241.623v28.754L177.224,440.508A24.091,24.091,0,0,0,194.644,448H472a24.028,24.028,0,0,0,24-24V88A24.028,24.028,0,0,0,472,64Zm-8,352H198.084L48,257.623v-3.246L198.084,96H464Z' class='ci-primary'/>"]},64214:(e,r,t)=>{t.d(r,{I:()=>l});var l=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M345.994,42.019,179.531,208.481A646.3,646.3,0,0,0,25.325,456.521a24.845,24.845,0,0,0,6,25.708l.087.087a24.84,24.84,0,0,0,17.611,7.342,25.172,25.172,0,0,0,8.1-1.344,646.283,646.283,0,0,0,248.04-154.207L471.62,167.646A88.831,88.831,0,0,0,345.994,42.019ZM282.531,311.48A614.445,614.445,0,0,1,60.419,453.221,614.435,614.435,0,0,1,202.158,231.108l99.162-99.161,80.372,80.372ZM448.993,145.019l-44.674,44.673L323.947,109.32l44.674-44.674a56.832,56.832,0,1,1,80.372,80.373Z' class='ci-primary'/>"]}}]);
//# sourceMappingURL=9368.f72d69f3.chunk.js.map