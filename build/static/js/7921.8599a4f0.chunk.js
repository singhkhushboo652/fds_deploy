"use strict";(self.webpackChunk_coreui_coreui_pro_react_admin_template_cra=self.webpackChunk_coreui_coreui_pro_react_admin_template_cra||[]).push([[7921],{7921:(e,a,t)=>{t.r(a),t.d(a,{default:()=>S});var s=t(65043),l=t(73216),n=t(64716),i=t(56267),r=t(50280),o=t(63821),d=t(67603),u=t(4522),c=t(25943),m=t(9447),h=t(1289),g=t(81267),x=t(24685),j=t(52171),v=t(77154),p=t(63401),b=t(70579);const S=()=>{var e;(0,l.Zp)();const a=null===(e=(0,l.zy)().state)||void 0===e?void 0:e.productId,[t,S]=(0,s.useState)(""),[C,y]=(0,s.useState)(""),[U,N]=(0,s.useState)(""),[f,F]=(0,s.useState)(""),[I,O]=(0,s.useState)(""),[P,z]=(0,s.useState)(""),[D,M]=(0,s.useState)(""),[L,k]=(0,s.useState)(""),[T,W]=(0,s.useState)(""),[A,_]=(0,s.useState)(""),[R,w]=(0,s.useState)(""),[Q,B]=(0,s.useState)(""),[E,V]=(0,s.useState)(""),[G,H]=(0,s.useState)(""),[Y,q]=(0,s.useState)(""),[Z,J]=(0,s.useState)(""),[K,X]=(0,s.useState)(""),[$,ee]=(0,s.useState)(""),[ae,te]=(0,s.useState)(""),[se,le]=(0,s.useState)(""),[ne,ie]=(0,s.useState)(""),[re,oe]=(0,s.useState)(""),[de,ue]=(0,s.useState)(""),[ce,me]=(0,s.useState)(""),[he,ge]=(0,s.useState)(""),[xe,je]=(0,s.useState)(""),[ve,pe]=(0,s.useState)(""),[be,Se]=(0,s.useState)(""),[Ce,ye]=(0,s.useState)(""),[Ue,Ne]=(0,s.useState)(""),[fe,Fe]=(0,s.useState)(""),[Ie,Oe]=(0,s.useState)(""),[Pe,ze]=(0,s.useState)(""),[De,Me]=(0,s.useState)(""),[Le,ke]=(0,s.useState)(""),[Te,We]=(0,s.useState)(""),[Ae,_e]=(0,s.useState)(""),[Re,we]=(0,s.useState)(""),[Qe,Be]=(0,s.useState)(""),[Ee,Ve]=(0,s.useState)([]),[Ge,He]=(0,s.useState)([]),[Ye,qe]=(0,s.useState)([]),[Ze,Je]=(0,s.useState)([]),[Ke,Xe]=(0,s.useState)([{imageType:"",logo:"",logoFile:null,base64Image:""}]),[$e,ea]=(0,s.useState)({}),[aa,ta]=(0,s.useState)(!1),[sa,la]=(0,s.useState)([]),na=async(e,a)=>{const{name:t,value:s,files:l}=a.target,n=[...Ke];if(l){const a=l[0];n[e].logoFile=URL.createObjectURL(a);const t=new FileReader;t.readAsDataURL(a),t.onloadend=()=>{n[e].base64Image=t.result,Xe(n)}}else n[e][t]=s,Xe(n)};(0,s.useEffect)((()=>{v.A.get("client/findAll/distributer",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((e=>la(e.data.data))).catch((e=>console.error("error fetching clients",e)))}),[]),(0,s.useEffect)((()=>{v.A.get("product/"+a,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((e=>{if(e.data){let a=e.data.data;N(a.name),O(a.productType),F(a.manuItemNum),S(a.manuDesc),y(a.distItemNum),X(a.manuMarkStmt),J(a.distributerId),oe(a.gtinNum),ee(a.caseCount),te(a.masterPack),le(a.grossCaseWeight),ie(a.masterUnitSize),z(a.caseDime),M(a.servingSize),k(a.shelfLifeManu),W(a.storageMethod),q(a.shelfLife),w(a.ingreList),_(a.tips),B(a.servicePerCont),V(a.serviceSizeQty),H(a.serviceSizeWt),ue(a.calories),me(a.cholestrol),Se(a.sodium),ge(a.totalFat),je(a.saturatedFat),pe(a.transFat),Fe(a.totalSugar),Oe(a.addedSugar),ye(a.totalCarboht),Ne(a.dietaryFiber),ze(a.protein),Me(a.vitD),ke(a.calcuim),We(a.iron),_e(a.potassium),we(a.cnLabel),Be(a.isActive);let t=a.images,s=[];t.map((e=>{let a={imageType:e.imageType,logo:e.imagePath,logoFile:"http://node93696-pimgmt.j.scaleforce.net:11064/"+e.imagePath,base64Image:"",id:e.id};s.push(a)})),Xe(s)}}))}),[]);return(0,b.jsx)("div",{className:"bg-body-tertiary min-vh-75 d-flex flex-row align-items-center",children:(0,b.jsx)(n.T,{children:(0,b.jsxs)(i.q,{className:"row g-3",onSubmit:e=>(async e=>{e.preventDefault(),ta(!0);const s=Ke.map((e=>({imageType:e.imageType,image:e.base64Image||e.logo,id:e.id||null})));let l={manuDesc:t,name:U,distItemNum:C,manuItemNum:f,manuMarkStmt:K,distributerId:Z,productType:I,caseDime:P,servingSize:D,shelfLifeManu:L,storageMethod:T,tips:A,ingreList:R,servicePerCont:Q,serviceSizeQty:E,serviceSizeWt:G,shelfLife:Y,masterPack:ae,grossCaseWeight:se,masterUnitSize:ne,gtinNum:re,caseCount:$,calories:de,cholestrol:ce,totalFat:he,saturatedFat:xe,transFat:ve,sodium:be,totalCarboht:Ce,dietaryFiber:Ue,totalSugar:fe,addedSugar:Ie,protein:Pe,vitD:De,calcuim:Le,iron:Te,potassium:Ae,cnLabel:Re,isActive:Qe,images:s};v.A.patch("/product/update/"+a,l,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((e=>{p.oR.success(e.data.message),ta(!1)})).catch((e=>{ta(!1),console.log(e)}))})(e),children:[(0,b.jsx)(r.s,{className:"justify-content-center",children:(0,b.jsx)(o.U,{md:9,lg:7,xl:12,children:(0,b.jsxs)(d.E,{className:"mb-4",children:[(0,b.jsx)(u.V,{children:"MFG Product Information"}),(0,b.jsxs)(c.W,{className:"p-4",children:[(0,b.jsx)(r.s,{className:"mb-4",children:(0,b.jsx)(o.U,{md:12,children:(0,b.jsx)(m.O,{type:"text",id:"name",label:"Name",onChange:e=>{N(e.target.value)},value:U,name:"name"})})}),(0,b.jsxs)(r.s,{className:"mb-4",children:[(0,b.jsx)(o.U,{md:6,children:(0,b.jsx)(m.O,{type:"number",id:"manuItemNum",label:"Manufacturer Item Number",onChange:e=>{F(e.target.value)},value:f,name:"manuItemNum"})}),(0,b.jsx)(o.U,{md:6,children:(0,b.jsx)(m.O,{type:"text",id:"distItemNum",label:"Distributor Item Number",onChange:e=>{y(e.target.value)},value:C,name:"distItemNum"})})]}),(0,b.jsx)(r.s,{className:"mb-4",children:(0,b.jsx)(o.U,{md:12,children:(0,b.jsx)(h.I,{id:"manuDesc",label:"Manufacturer Description",onChange:e=>{S(e.target.value)},value:t,name:"manuDesc"})})}),(0,b.jsx)(r.s,{className:"mb-4",children:(0,b.jsx)(o.U,{md:12,children:(0,b.jsx)(h.I,{id:"manuMarkStmt",label:"Manufacturer Marketing Statement",onChange:e=>{X(e.target.value)},value:K,name:"manuMarkStmt"})})}),(0,b.jsxs)(r.s,{className:"mb-4",children:[(0,b.jsx)(o.U,{md:6,children:(0,b.jsxs)(g.M,{id:"distributerId",label:"Distributer",name:"distributerId",onChange:e=>{J(e.target.value)},value:Z,children:[(0,b.jsx)("option",{children:"...Choose"}),sa.map(((e,a)=>(0,b.jsx)("option",{value:e.id,children:e.companyName},a)))]})}),(0,b.jsx)(o.U,{md:6,children:(0,b.jsxs)(g.M,{id:"productType",label:"Product Type",name:"productType",onChange:e=>{O(e.target.value)},value:I,children:[(0,b.jsx)("option",{children:"Choose..."}),(0,b.jsx)("option",{value:"Paper",children:"Paper"}),(0,b.jsx)("option",{value:"Disposables",children:"Disposables"}),(0,b.jsx)("option",{value:"Beverages",children:"Beverages"}),(0,b.jsx)("option",{value:"Food-Frozen",children:"Food-Frozen"}),(0,b.jsx)("option",{value:"Food-Fresh",children:"Food-Fresh"}),(0,b.jsx)("option",{value:"DryFoods",children:"Dry Foods"}),(0,b.jsx)("option",{value:"SmallWares",children:"Small Wares"})]})})]})]})]})})}),(0,b.jsx)(r.s,{children:(0,b.jsx)(o.U,{md:9,lg:7,xl:12,children:(0,b.jsxs)(d.E,{className:"mb-4",children:[(0,b.jsx)(u.V,{children:"Product Images"}),(0,b.jsxs)(c.W,{className:"p-4",children:[Ke.map(((e,a)=>(0,b.jsxs)(r.s,{className:"mb-3",children:[(0,b.jsx)(o.U,{children:(0,b.jsxs)(g.M,{id:"imageType".concat(a),name:"imageType",value:e.imageType,onChange:e=>na(a,e),children:[(0,b.jsx)("option",{value:"",children:"...Choose"}),(0,b.jsx)("option",{value:"close",children:"Closed Case"}),(0,b.jsx)("option",{value:"open",children:"Open Case"}),(0,b.jsx)("option",{value:"innerPack",children:"Inner Pack"}),(0,b.jsx)("option",{value:"raw",children:"Raw/Uncooked"}),(0,b.jsx)("option",{value:"plated",children:"Plated"}),(0,b.jsx)("option",{value:"styled",children:"Styled"})]})}),(0,b.jsxs)(o.U,{children:[(0,b.jsx)(m.O,{type:"file",id:"productImage".concat(a),name:"logo",onChange:e=>na(a,e)}),e.logoFile&&(0,b.jsx)(x.t,{rounded:!0,thumbnail:!0,width:200,height:200,src:e.logoFile})]}),(0,b.jsx)(o.U,{children:(0,b.jsx)(j.Q,{color:"danger",onClick:()=>(e=>{const a=[...Ke];a.splice(e,1),Xe(a)})(a),children:"Remove"})})]},a))),(0,b.jsx)(j.Q,{type:"button",onClick:()=>{Xe([...Ke,{imageType:"",logo:"",logoFile:null,base64Image:""}])},className:"btn btn-primary",children:"Add Image"})]})]})})}),(0,b.jsx)(r.s,{children:(0,b.jsx)(o.U,{md:9,lg:7,xl:12,children:(0,b.jsxs)(d.E,{className:"mb-4",children:[(0,b.jsx)(u.V,{children:"Product Attributes"}),(0,b.jsxs)(c.W,{className:"p-4",children:[(0,b.jsxs)(r.s,{className:"mb-4",children:[(0,b.jsx)(o.U,{md:6,children:(0,b.jsx)(m.O,{type:"number",id:"gtinNum",label:"GTIN Number",onChange:e=>{oe(e.target.value)},value:re,name:"gtinNum"})}),(0,b.jsx)(o.U,{md:6,children:(0,b.jsx)(m.O,{type:"number",locale:"en-US",id:"caseCount",label:"Case Count",onChange:e=>{ee(e.target.value)},value:$,name:"caseCount"})})]}),(0,b.jsxs)(r.s,{children:[(0,b.jsx)(o.U,{children:(0,b.jsx)(m.O,{type:"number",id:"masterPack",label:"Master Pack",onChange:e=>{te(e.target.value)},value:ae,name:"masterPack"})}),(0,b.jsx)(o.U,{children:(0,b.jsx)(m.O,{type:"number",id:"grossCaseWeight",label:"Gross Case Weight",onChange:e=>{le(e.target.value)},value:se,name:"grossCaseWeight"})}),(0,b.jsx)(o.U,{children:(0,b.jsx)(m.O,{type:"number",id:"masterUnitSize",label:"Master Unit Size",onChange:e=>{ie(e.target.value)},value:ne,name:"masterUnitSize"})})]}),(0,b.jsx)(o.U,{xs:12,className:"mb-4",children:(0,b.jsx)(m.O,{type:"text",id:"caseDime",name:"caseDime",label:"Case Dimensions",placeholder:"(LxWxH)",onChange:e=>{z(e.target.value)},value:P})}),(0,b.jsx)(o.U,{xs:12,className:"mb-4",children:(0,b.jsx)(m.O,{type:"number",id:"servingSize",label:"Serving Size",name:"servingSize",onChange:e=>{M(e.target.value)},value:D})}),(0,b.jsx)(o.U,{xs:12,className:"mb-4",children:(0,b.jsx)(m.O,{type:"text",id:"shelfLifeManu",label:"Shelf Life from Manufacturer",name:"shelfLifeManu",onChange:e=>{k(e.target.value)},value:L})}),(0,b.jsxs)(r.s,{children:[(0,b.jsx)(o.U,{md:6,children:(0,b.jsxs)(g.M,{id:"storageMethod",label:"Storage Method",name:"storageMethod",onChange:e=>{W(e.target.value)},value:T,children:[(0,b.jsx)("option",{children:"Choose..."}),(0,b.jsx)("option",{value:"Dry",children:"Dry"}),(0,b.jsx)("option",{value:"Refrigerated",children:"Refrigerated"}),(0,b.jsx)("option",{value:"Frozen",children:"Frozen"})]})}),(0,b.jsx)(o.U,{md:6,children:(0,b.jsxs)(g.M,{id:"shelfLife",label:"Shelf Life",name:"shelfLife",onChange:e=>{q(e.target.value)},value:Y,children:[(0,b.jsx)("option",{children:"Choose..."}),(0,b.jsx)("option",{value:"UseByDate",children:"Use By Date"}),(0,b.jsx)("option",{value:"days365",children:"365 days"}),(0,b.jsx)("option",{value:"days365Plus",children:"365 days plus"})]})})]}),(0,b.jsx)(r.s,{className:"mb-4",children:(0,b.jsx)(o.U,{md:12,children:(0,b.jsx)(h.I,{id:"ingreList",label:"List of all Ingredients",onChange:e=>{w(e.target.value)},value:R,name:"ingreList"})})}),(0,b.jsx)(r.s,{className:"mb-4",children:(0,b.jsx)(o.U,{md:12,children:(0,b.jsx)(h.I,{id:"tips",label:"Tips & Handling",onChange:e=>{_(e.target.value)},value:A,name:"tips"})})}),(0,b.jsxs)(r.s,{children:[(0,b.jsx)(o.U,{children:(0,b.jsx)(m.O,{type:"number",id:"servicePerCont",label:"Servings per Container",onChange:e=>{B(e.target.value)},value:Q,name:"servicePerCont"})}),(0,b.jsx)(o.U,{children:(0,b.jsx)(m.O,{type:"number",id:"serviceSizeQty",label:"Serving Size Qty",onChange:e=>{V(e.target.value)},value:E,name:"serviceSizeQty"})}),(0,b.jsx)(o.U,{children:(0,b.jsx)(m.O,{type:"number",id:"serviceSizeWt",label:"Serving Size Weight (g)",onChange:e=>{H(e.target.value)},value:G,name:"serviceSizeWt"})})]})]})]})})}),(0,b.jsx)(r.s,{children:(0,b.jsxs)(d.E,{children:[(0,b.jsx)(u.V,{children:"Nutritional Facts"}),(0,b.jsxs)(c.W,{className:"p-4",children:[(0,b.jsxs)(r.s,{children:[(0,b.jsx)(o.U,{children:(0,b.jsx)(m.O,{type:"number",id:"calories",label:"Calories",onChange:e=>{ue(e.target.value)},value:de,name:"calories"})}),(0,b.jsx)(o.U,{children:(0,b.jsx)(m.O,{type:"number",id:"cholestrol",label:"Cholesterol (mg)",onChange:e=>{me(e.target.value)},value:ce,name:"cholestrol"})}),(0,b.jsx)(o.U,{children:(0,b.jsx)(m.O,{type:"number",id:"sodium",label:"Sodium (mg)",onChange:e=>{Se(e.target.value)},value:be,name:"sodium"})})]}),(0,b.jsxs)(r.s,{children:[(0,b.jsx)(o.U,{children:(0,b.jsx)(m.O,{type:"number",id:"totalFat",label:"Total Fat (g)",onChange:e=>{ge(e.target.value)},value:he,name:"totalFat"})}),(0,b.jsx)(o.U,{children:(0,b.jsx)(m.O,{type:"number",id:"saturatedFat",label:"Saturated Fat (g)",onChange:e=>{je(e.target.value)},value:xe,name:"saturatedFat"})}),(0,b.jsx)(o.U,{children:(0,b.jsx)(m.O,{type:"number",id:"transFat",label:"Trans Fat (g)",onChange:e=>{pe(e.target.value)},value:ve,name:"transFat"})})]}),(0,b.jsxs)(r.s,{children:[(0,b.jsx)(o.U,{children:(0,b.jsx)(m.O,{type:"number",id:"totalCarboht",label:"Total Carbohydrate (g)",onChange:e=>{ye(e.target.value)},value:Ce,name:"totalCarboht"})}),(0,b.jsx)(o.U,{children:(0,b.jsx)(m.O,{type:"number",id:"dietaryFiber",label:"Dietary Fiber (g)",onChange:e=>{Ne(e.target.value)},value:Ue,name:"dietaryFiber"})})]}),(0,b.jsxs)(r.s,{children:[(0,b.jsx)(o.U,{children:(0,b.jsx)(m.O,{type:"number",id:"totalSugar",label:"Total Sugars (g)",onChange:e=>{Fe(e.target.value)},value:fe,name:"totalSugar"})}),(0,b.jsx)(o.U,{children:(0,b.jsx)(m.O,{type:"number",id:"addedSugar",label:"Added Sugars (g)",onChange:e=>{Oe(e.target.value)},value:Ie,name:"addedSugar"})})]}),(0,b.jsxs)(r.s,{children:[(0,b.jsx)(o.U,{children:(0,b.jsx)(m.O,{type:"number",id:"protein",label:"Protein (g)",onChange:e=>{ze(e.target.value)},value:Pe,name:"protein"})}),(0,b.jsx)(o.U,{children:(0,b.jsx)(m.O,{type:"number",id:"vitD",label:" Vitamin D (mcg)",onChange:e=>{Me(e.target.value)},value:De,name:"vitD"})})]}),(0,b.jsxs)(r.s,{children:[(0,b.jsx)(o.U,{children:(0,b.jsx)(m.O,{type:"number",id:"calcuim",label:"Calcium (mg)",onChange:e=>{ke(e.target.value)},value:Le,name:"calcuim"})}),(0,b.jsx)(o.U,{children:(0,b.jsx)(m.O,{type:"number",id:"iron",label:"Iron (mg)",onChange:e=>{We(e.target.value)},value:Te,name:"iron"})}),(0,b.jsx)(o.U,{children:(0,b.jsx)(m.O,{type:"number",id:"potassium",label:"Potassium (mg)",onChange:e=>{_e(e.target.value)},value:Ae,name:"potassium"})})]})]})]})}),(0,b.jsx)(r.s,{children:(0,b.jsxs)(d.E,{className:"mb-4",children:[(0,b.jsx)(u.V,{children:"Published Product"}),(0,b.jsxs)(c.W,{className:"p-4",children:[(0,b.jsx)(r.s,{className:"mb-4",children:(0,b.jsx)(o.U,{children:(0,b.jsxs)(g.M,{id:"cnLabel",label:"C N Label",name:"cnLabel",onChange:e=>{we(e.target.value)},value:Re,children:[(0,b.jsx)("option",{value:"Yes",children:"Yes"}),(0,b.jsx)("option",{value:"No",children:"No"})]})})}),(0,b.jsx)(r.s,{className:"mb-4",children:(0,b.jsx)(o.U,{children:(0,b.jsxs)(g.M,{id:"isActive",label:"Published Product",name:"isActive",onChange:e=>{Be(e.target.value)},value:Qe,children:[(0,b.jsx)("option",{value:"true",children:"Published"}),(0,b.jsx)("option",{value:"false",children:"Unpublished"})]})})})]})]})}),(0,b.jsx)(r.s,{className:"p-4",children:(0,b.jsx)(o.U,{xs:12,children:(0,b.jsx)(j.Q,{color:"primary",type:"submit",disabled:aa,className:"float-end",children:"Update Product"})})})]})})})}}}]);
//# sourceMappingURL=7921.8599a4f0.chunk.js.map