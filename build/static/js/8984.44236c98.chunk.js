"use strict";(self.webpackChunk_coreui_coreui_pro_react_admin_template_cra=self.webpackChunk_coreui_coreui_pro_react_admin_template_cra||[]).push([[8984],{78984:(e,a,l)=>{l.r(a),l.d(a,{default:()=>y});var t=l(65043),n=l(73216),s=l(64716),i=l(56267),o=l(50280),c=l(63821),r=l(67603),d=l(4522),m=l(25943),u=l(44261),p=l(9447),f=l(81267),h=l(24685),b=l(70362),v=l(20035),g=l(52171),x=(l(6145),l(77154)),j=l(70579);const y=()=>{const e=(0,n.Zp)(),[a,l]=(0,t.useState)(""),[y,N]=(0,t.useState)(""),[k,C]=(0,t.useState)(),[E,A]=(0,t.useState)(""),[I,S]=(0,t.useState)(""),[T,F]=(0,t.useState)(""),[O,w]=(0,t.useState)({}),[_,z]=(0,t.useState)(!1),[D,L]=(0,t.useState)([]),[R,B]=(0,t.useState)([]),[V,M]=(0,t.useState)(),[P,U]=(0,t.useState)([]);(0,t.useEffect)((()=>{x.A.get("user/findAll",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((e=>L(e.data.data))).catch((e=>console.error("error fetching users",e))),x.A.get("brand/findAll",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((e=>{const a=e.data.data.map((e=>({value:e.id,label:e.name})));console.log(a),B(a)})).catch((e=>console.error("error fetching brand",e)))}),[]);const q=()=>{document.getElementById("unspecified").checked?(Q(!0),F("unspecified")):(Q(!1),W(),Z())},Q=e=>{for(let a=1;a<=4;a++)document.getElementById("imageDisplay".concat(a)).disabled=e},W=()=>{let e=[];for(let a=1;a<=4;a++)e.push(document.getElementById("imageDisplay".concat(a)).value);F(e.join(","))},Z=()=>{const e=[];for(let a=1;a<=4;a++)e.push(document.getElementById("imageDisplay".concat(a)).value);for(let a=1;a<=4;a++){const l=document.getElementById("imageDisplay".concat(a));for(let a=0;a<l.options.length;a++){const t=l.options[a];e.includes(t.value)&&t.value!==l.value?t.disabled=!0:t.disabled=!1}}},G=async l=>{l.preventDefault(),z(!0);let t="";var n;k&&(t=await(n=k,new Promise(((e,a)=>{const l=new FileReader;l.readAsDataURL(n),l.onload=()=>e(l.result),l.onerror=e=>a(e)})))),console.log(t);let s={companyName:a,contactId:E,clientType:y,imageDisplayOrder:T,brandIds:P,logo:t};x.A.post("/client/create",s,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((a=>{z(!1),e("/companies")})).catch((e=>{z(!1),void 0!=e.response.data.errors&&w(e.response.data.errors)}))};return(0,j.jsx)("div",{className:"bg-body-tertiary min-vh-75 d-flex flex-row align-items-center",children:(0,j.jsx)(s.T,{children:(0,j.jsxs)(i.q,{className:"row g-3",onSubmit:e=>G(e),children:[(0,j.jsx)(o.s,{className:"justify-content-center",children:(0,j.jsx)(c.U,{md:9,lg:7,xl:12,children:(0,j.jsxs)(r.E,{className:"mb-4",children:[(0,j.jsx)(d.V,{children:"Company Information"}),(0,j.jsxs)(m.W,{className:"p-4",children:[(0,j.jsxs)(o.s,{className:"mb-3",children:[(0,j.jsx)(u.A,{htmlFor:"companyName",className:"col-sm-3 col-form-label",children:"Company Name"}),(0,j.jsx)("div",{className:"col-sm-8",children:(0,j.jsx)(p.O,{type:"text",id:"companyName",onChange:e=>{l(e.target.value)},value:a,name:"companyName"})})]}),(0,j.jsxs)(o.s,{className:"mb-4",children:[(0,j.jsx)(u.A,{htmlFor:"clientType",className:"col-sm-3 col-form-label",children:"Company Type"}),(0,j.jsx)("div",{className:"col-sm-8",children:(0,j.jsxs)(f.M,{id:"clientType",name:"clientType",onChange:e=>{N(e.target.value)},value:y,children:[(0,j.jsx)("option",{children:"Choose..."}),(0,j.jsx)("option",{value:"broker",children:"Broker"}),(0,j.jsx)("option",{value:"distributer",children:"Distributer"}),(0,j.jsx)("option",{value:"Manufacturer",children:"Manufacturer"})]})})]}),(0,j.jsxs)(o.s,{className:"mb-3",children:[(0,j.jsx)(u.A,{htmlFor:"Logo",className:"col-sm-3 col-form-label",children:"Logo"}),(0,j.jsxs)("div",{className:"col-sm-8",children:[(0,j.jsx)(p.O,{type:"file",id:"logo",onChange:e=>{const a=e.target.files[0];if(a){const e=URL.createObjectURL(a);C(a),M(e)}},name:"logo"}),(0,j.jsx)(h.t,{rounded:!0,thumbnail:!0,src:V,width:200,height:200})]})]}),(0,j.jsxs)(o.s,{className:"mb-3",children:[(0,j.jsx)(u.A,{htmlFor:"Brands",className:"col-sm-3 col-form-label",children:"Brands"}),(0,j.jsx)("div",{className:"col-sm-8",children:(0,j.jsx)(b.x,{options:R,onChange:e=>{const a=e.map((e=>e.value));console.log(a),U(a)},value:R.filter((e=>P.includes(e.value)))})})]}),(0,j.jsxs)(o.s,{className:"mb-4",children:[(0,j.jsx)(u.A,{htmlFor:"imageDisplayOrder",className:"col-sm-3 col-form-label",children:"Image Display Order"}),(0,j.jsxs)("div",{className:"col-sm-9",children:[(0,j.jsx)(v.C,{id:"unspecified",label:"Unspecified",className:"col-sm-2",onChange:e=>{q(e.target.value)}}),(0,j.jsx)("div",{className:"col-sm-2 float-start ml-5",children:(0,j.jsxs)(f.M,{id:"imageDisplay1",className:"col-sm-2 float-start",onChange:e=>{q(e.target.value)},children:[(0,j.jsx)("option",{value:"",children:"Select"}),(0,j.jsx)("option",{value:"c",children:"Closed Case"}),(0,j.jsx)("option",{value:"o",children:"Open Case"}),(0,j.jsx)("option",{value:"e",children:"Inner Package"}),(0,j.jsx)("option",{value:"i",children:"Raw"})]})}),(0,j.jsx)("div",{className:"col-sm-2 float-start ml-5",children:(0,j.jsxs)(f.M,{id:"imageDisplay2",className:"col-sm-2",onChange:e=>{q(e.target.value)},children:[(0,j.jsx)("option",{value:"",children:"Select"}),(0,j.jsx)("option",{value:"c",children:"Closed Case"}),(0,j.jsx)("option",{value:"o",children:"Open Case"}),(0,j.jsx)("option",{value:"e",children:"Inner Package"}),(0,j.jsx)("option",{value:"i",children:"Raw"})]})}),(0,j.jsx)("div",{className:"col-sm-2 float-start ml-5",children:(0,j.jsxs)(f.M,{id:"imageDisplay3",className:"col-sm-2",onChange:e=>{q(e.target.value)},children:[(0,j.jsx)("option",{value:"",children:"Select"}),(0,j.jsx)("option",{value:"c",children:"Closed Case"}),(0,j.jsx)("option",{value:"o",children:"Open Case"}),(0,j.jsx)("option",{value:"e",children:"Inner Package"}),(0,j.jsx)("option",{value:"i",children:"Raw"})]})}),(0,j.jsx)("div",{className:"col-sm-2 float-start ml-5",children:(0,j.jsxs)(f.M,{id:"imageDisplay4",className:"col-sm-2",onChange:e=>{q(e.target.value)},children:[(0,j.jsx)("option",{value:"",children:"Select"}),(0,j.jsx)("option",{value:"c",children:"Closed Case"}),(0,j.jsx)("option",{value:"o",children:"Open Case"}),(0,j.jsx)("option",{value:"e",children:"Inner Package"}),(0,j.jsx)("option",{value:"i",children:"Raw"})]})})]})]}),(0,j.jsxs)(o.s,{className:"mb-4",children:[(0,j.jsx)(u.A,{htmlFor:"contactPerson",className:"col-sm-3 col-form-label",children:"Contact Person"}),(0,j.jsx)("div",{className:"col-sm-8",children:(0,j.jsxs)(f.M,{id:"contactId",name:"contactId",onChange:e=>{A(e.target.value)},value:E,children:[(0,j.jsx)("option",{children:"...Choose"}),D.map(((e,a)=>(0,j.jsx)("option",{value:e.id,children:e.username},a)))]})})]})]})]})})}),(0,j.jsx)(o.s,{className:"p-4",children:(0,j.jsx)(c.U,{xs:12,children:(0,j.jsx)(g.Q,{color:"primary",type:"submit",disabled:_,className:"float-end",children:"Set Client"})})})]})})})}},56267:(e,a,l)=>{l.d(a,{q:()=>c});var t=l(5664),n=l(65043),s=l(65173),i=l.n(s),o=l(65689),c=(0,n.forwardRef)((function(e,a){var l=e.children,s=e.className,i=e.validated,c=(0,t.Tt)(e,["children","className","validated"]);return n.createElement("form",(0,t.Cl)({className:(0,o.A)({"was-validated":i},s)||void 0},c,{ref:a}),l)}));c.propTypes={children:i().node,className:i().string,validated:i().bool},c.displayName="CForm"},20035:(e,a,l)=>{l.d(a,{C:()=>m});var t=l(5664),n=l(65043),s=l(65173),i=l.n(s),o=l(65689),c=l(48377),r=l(44261),d=l(95188),m=(0,n.forwardRef)((function(e,a){var l=e.className,s=e.button,i=e.feedback,m=e.feedbackInvalid,u=e.feedbackValid,p=e.floatingLabel,f=e.tooltipFeedback,h=e.hitArea,b=e.id,v=e.indeterminate,g=e.inline,x=e.invalid,j=e.label,y=e.reverse,N=e.type,k=void 0===N?"checkbox":N,C=e.valid,E=(0,t.Tt)(e,["className","button","feedback","feedbackInvalid","feedbackValid","floatingLabel","tooltipFeedback","hitArea","id","indeterminate","inline","invalid","label","reverse","type","valid"]),A=(0,n.useRef)(null),I=(0,d.E2)(a,A);(0,n.useEffect)((function(){A.current&&v&&(A.current.indeterminate=v)}),[v,A.current]);var S=function(){return n.createElement("input",(0,t.Cl)({type:k,className:(0,o.A)(s?"btn-check":"form-check-input",{"is-invalid":x,"is-valid":C,"me-2":h}),id:b},E,{ref:I}))},T=function(){return n.createElement(c._,{describedby:E["aria-describedby"],feedback:i,feedbackInvalid:m,feedbackValid:u,floatingLabel:p,invalid:x,tooltipFeedback:f,valid:C})},F=function(){var e;return n.createElement(r.A,(0,t.Cl)({customClassName:(0,o.A)(s?(0,o.A)("btn",s.variant?"btn-".concat(s.variant,"-").concat(s.color):"btn-".concat(s.color),(e={},e["btn-".concat(s.size)]=s.size,e),"".concat(s.shape)):"form-check-label")},b&&{htmlFor:b}),j)};return n.createElement((function(){return s?n.createElement(n.Fragment,null,n.createElement(S,null),j&&n.createElement(F,null),n.createElement(T,null)):j?h?n.createElement(n.Fragment,null,n.createElement(S,null),n.createElement(r.A,(0,t.Cl)({customClassName:(0,o.A)("form-check-label stretched-link",l)},b&&{htmlFor:b}),j),n.createElement(T,null)):n.createElement("div",{className:(0,o.A)("form-check",{"form-check-inline":g,"form-check-reverse":y,"is-invalid":x,"is-valid":C},l)},n.createElement(S,null),n.createElement(F,null),n.createElement(T,null)):n.createElement(S,null)}),null)}));m.propTypes=(0,t.Cl)({button:i().object,className:i().string,hitArea:i().oneOf(["full"]),id:i().string,indeterminate:i().bool,inline:i().bool,label:i().oneOfType([i().string,i().node]),reverse:i().bool,type:i().oneOf(["checkbox","radio"])},c._.propTypes),m.displayName="CFormCheck"},9447:(e,a,l)=>{l.d(a,{O:()=>r});var t=l(5664),n=l(65043),s=l(65173),i=l.n(s),o=l(65689),c=l(95755),r=(0,n.forwardRef)((function(e,a){var l,s=e.children,i=e.className,r=e.delay,d=void 0!==r&&r,m=e.feedback,u=e.feedbackInvalid,p=e.feedbackValid,f=e.floatingClassName,h=e.floatingLabel,b=e.id,v=e.invalid,g=e.label,x=e.onChange,j=e.plainText,y=e.size,N=e.text,k=e.tooltipFeedback,C=e.type,E=void 0===C?"text":C,A=e.valid,I=(0,t.Tt)(e,["children","className","delay","feedback","feedbackInvalid","feedbackValid","floatingClassName","floatingLabel","id","invalid","label","onChange","plainText","size","text","tooltipFeedback","type","valid"]),S=(0,n.useState)(),T=S[0],F=S[1];return(0,n.useEffect)((function(){var e=setTimeout((function(){return T&&x&&x(T)}),"number"===typeof d?d:500);return function(){return clearTimeout(e)}}),[T]),n.createElement(c.O,{describedby:I["aria-describedby"],feedback:m,feedbackInvalid:u,feedbackValid:p,floatingClassName:f,floatingLabel:h,id:b,invalid:v,label:g,text:N,tooltipFeedback:k,valid:A},n.createElement("input",(0,t.Cl)({className:(0,o.A)(j?"form-control-plaintext":"form-control",(l={},l["form-control-".concat(y)]=y,l["form-control-color"]="color"===E,l["is-invalid"]=v,l["is-valid"]=A,l),i),id:b,type:E,onChange:function(e){return d?F(e):x&&x(e)}},I,{ref:a}),s))}));r.propTypes=(0,t.Cl)({className:i().string,id:i().string,delay:i().oneOfType([i().bool,i().number]),plainText:i().bool,size:i().oneOf(["sm","lg"]),type:i().oneOfType([i().oneOf(["color","file","text"]),i().string])},c.O.propTypes),r.displayName="CFormInput"},81267:(e,a,l)=>{l.d(a,{M:()=>r});var t=l(5664),n=l(65043),s=l(65173),i=l.n(s),o=l(65689),c=l(95755),r=(0,n.forwardRef)((function(e,a){var l,s=e.children,i=e.className,r=e.feedback,d=e.feedbackInvalid,m=e.feedbackValid,u=e.floatingClassName,p=e.floatingLabel,f=e.htmlSize,h=e.id,b=e.invalid,v=e.label,g=e.options,x=e.size,j=e.text,y=e.tooltipFeedback,N=e.valid,k=(0,t.Tt)(e,["children","className","feedback","feedbackInvalid","feedbackValid","floatingClassName","floatingLabel","htmlSize","id","invalid","label","options","size","text","tooltipFeedback","valid"]);return n.createElement(c.O,{describedby:k["aria-describedby"],feedback:r,feedbackInvalid:d,feedbackValid:m,floatingClassName:u,floatingLabel:p,id:h,invalid:b,label:v,text:j,tooltipFeedback:y,valid:N},n.createElement("select",(0,t.Cl)({id:h,className:(0,o.A)("form-select",(l={},l["form-select-".concat(x)]=x,l["is-invalid"]=b,l["is-valid"]=N,l),i),size:f},k,{ref:a}),g?g.map((function(e,a){return n.createElement("option",(0,t.Cl)({},"object"===typeof e&&e.disabled&&{disabled:e.disabled},"object"===typeof e&&void 0!==e.value&&{value:e.value},{key:a}),"string"===typeof e?e:e.label)})):s))}));r.propTypes=(0,t.Cl)({className:i().string,htmlSize:i().number,options:i().array},c.O.propTypes),r.displayName="CFormSelect"}}]);
//# sourceMappingURL=8984.44236c98.chunk.js.map