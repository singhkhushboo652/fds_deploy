"use strict";(self.webpackChunk_coreui_coreui_pro_react_admin_template_cra=self.webpackChunk_coreui_coreui_pro_react_admin_template_cra||[]).push([[7921],{7921:(e,a,t)=>{t.r(a),t.d(a,{default:()=>C});var s=t(65043),l=t(73216),i=t(64716),n=t(56267),r=t(50280),d=t(63821),o=t(67603),c=t(4522),u=t(25943),m=t(44261),h=t(9447),g=t(1289),x=t(81267),j=t(24685),v=t(52171),b=t(77154),p=t(63401),S=t(95778),y=t(70579);const C=()=>{var e,a;(0,l.Zp)();const t=null===(e=(0,l.zy)().state)||void 0===e?void 0:e.productId,C=null===(a=(0,l.zy)().state)||void 0===a?void 0:a.permission,[f,U]=(0,s.useState)(""),[N,F]=(0,s.useState)(""),[D,O]=(0,s.useState)(""),[k,I]=(0,s.useState)(""),[z,T]=(0,s.useState)(""),[L,P]=(0,s.useState)(""),[M,W]=(0,s.useState)(0),[A,_]=(0,s.useState)(0),[R,V]=(0,s.useState)(0),[w,E]=(0,s.useState)(""),[Q,B]=(0,s.useState)(""),[H,G]=(0,s.useState)(""),[Y,q]=(0,s.useState)(""),[Z,J]=(0,s.useState)(""),[K,X]=(0,s.useState)(""),[$,ee]=(0,s.useState)(""),[ae,te]=(0,s.useState)(""),[se,le]=(0,s.useState)(""),[ie,ne]=(0,s.useState)(""),[re,de]=(0,s.useState)([]),[oe,ce]=(0,s.useState)(""),[ue,me]=(0,s.useState)(""),[he,ge]=(0,s.useState)(""),[xe,je]=(0,s.useState)(""),[ve,be]=(0,s.useState)(""),[pe,Se]=(0,s.useState)(""),[ye,Ce]=(0,s.useState)(""),[fe,Ue]=(0,s.useState)(""),[Ne,Fe]=(0,s.useState)(""),[De,Oe]=(0,s.useState)(""),[ke,Ie]=(0,s.useState)(""),[ze,Te]=(0,s.useState)(""),[Le,Pe]=(0,s.useState)(""),[Me,We]=(0,s.useState)(""),[Ae,_e]=(0,s.useState)(""),[Re,Ve]=(0,s.useState)(""),[we,Ee]=(0,s.useState)(""),[Qe,Be]=(0,s.useState)(""),[He,Ge]=(0,s.useState)(""),[Ye,qe]=(0,s.useState)(""),[Ze,Je]=(0,s.useState)(""),[Ke,Xe]=(0,s.useState)(""),[$e,ea]=(0,s.useState)(""),[aa,ta]=(0,s.useState)([]),[sa,la]=(0,s.useState)([]),[ia,na]=(0,s.useState)([]),[ra,da]=(0,s.useState)([]),[oa,ca]=(0,s.useState)([{imageType:"",logo:"",logoFile:null,base64Image:""}]),[ua,ma]=(0,s.useState)(!1),[ha,ga]=(0,s.useState)([]),[xa,ja]=(0,s.useState)({}),va=async(e,a)=>{const{name:t,value:s,files:l}=a.target,i=[...oa];if(l){const a=l[0];i[e].logoFile=URL.createObjectURL(a);const t=new FileReader;t.readAsDataURL(a),t.onloadend=()=>{i[e].base64Image=t.result,ca(i)}}else i[e][t]=s,ca(i)};(0,s.useEffect)((()=>{b.A.get("client/findAll/distributer",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((e=>{const a=e.data.data.map((e=>({value:e.id,label:e.companyName})));ga(a)})).catch((e=>console.error("error fetching clients",e)))}),[]),(0,s.useEffect)((()=>{b.A.get("product/"+t,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((e=>{if(e.data){let a=e.data.data;O(a.name),T(a.productType),I(a.manuItemNum),U(a.manuDesc),F(a.distItemNum),ce(a.manuMarkStmt),de(a.distributers.map((e=>({value:e.id,label:e.companyName})))),Se(a.gtinNum),me(a.caseCount),ge(a.masterPack),je(a.grossCaseWeight),be(a.masterUnitSize),P(a.caseDimeTitle),W(a.caseDimeLength),_(a.caseDimeWidth),V(a.caseDimeHeight),E(a.servingSize),B(a.shelfLifeManu),G(a.storageMethod),le(a.shelfLife),J(a.ingreList),q(a.tips),X(a.servicePerCont),ee(a.serviceSizeQty),te(a.serviceSizeWt),Ce(a.calories),Ue(a.cholestrol),Te(a.sodium),Fe(a.totalFat),Oe(a.saturatedFat),Ie(a.transFat),_e(a.totalSugar),Ve(a.addedSugar),Pe(a.totalCarboht),We(a.dietaryFiber),Ee(a.protein),Be(a.vitD),Ge(a.calcuim),qe(a.iron),Je(a.potassium),Xe(a.cnLabel),ea(a.isActive);let t=a.images,s=[];t.map((e=>{let a={imageType:e.imageType,logo:e.imagePath,logoFile:"http://node93696-pimgmt.j.scaleforce.net:11064/"+e.imagePath,base64Image:"",id:e.id};s.push(a)})),ca(s)}}))}),[]);return(0,y.jsx)("div",{className:"bg-body-tertiary min-vh-75 d-flex flex-row align-items-center",children:(0,y.jsx)(i.T,{children:(0,y.jsxs)(n.q,{className:"row g-3",onSubmit:e=>(async e=>{e.preventDefault(),ma(!0);const a=oa.map((e=>({imageType:e.imageType,image:e.base64Image||e.logo,id:e.id||null})));let s={manuDesc:f,name:D,distItemNum:N,manuItemNum:k,manuMarkStmt:oe,distributerIds:re.map((e=>e.value)),productType:z,caseDimeTitle:L,caseDimeLength:M,caseDimeWidth:A,caseDimeHeight:R,servingSize:w,shelfLifeManu:Q,storageMethod:H,tips:Y,ingreList:Z,servicePerCont:K,serviceSizeQty:$,serviceSizeWt:ae,shelfLife:se,masterPack:he,grossCaseWeight:xe,masterUnitSize:ve,gtinNum:pe,caseCount:ue,calories:ye,cholestrol:fe,totalFat:Ne,saturatedFat:De,transFat:ke,sodium:ze,totalCarboht:Le,dietaryFiber:Me,totalSugar:Ae,addedSugar:Re,protein:we,vitD:Qe,calcuim:He,iron:Ye,potassium:Ze,cnLabel:Ke,isActive:$e,images:a};b.A.patch("/product/update/"+t,s,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((e=>{p.oR.success(e.data.message),ma(!1)})).catch((e=>{ma(!1),console.log(e)}))})(e),children:[(0,y.jsx)(r.s,{className:"justify-content-center",children:(0,y.jsx)(d.U,{md:9,lg:7,xl:12,children:(0,y.jsxs)(o.E,{className:"mb-4",children:[(0,y.jsx)(c.V,{children:"MFG Product Information"}),(0,y.jsxs)(u.W,{className:"p-4",children:[(0,y.jsxs)(r.s,{className:"mb-4",children:[(0,y.jsxs)(d.U,{md:6,children:[(0,y.jsx)(m.A,{htmlFor:"Distributor",children:"Distributor"}),(0,y.jsx)(S.Ay,{label:"Distributor",options:ha,isMulti:!0,value:re,onChange:e=>de(e),placeholder:"Select distributor...",className:"basic-multi-select",classNamePrefix:"select",isClearable:!1,closeMenuOnSelect:!1,styles:{control:e=>({...e,borderRadius:0,borderColor:"#ced4da"}),menu:e=>({...e,zIndex:9999})}})]}),(0,y.jsx)(d.U,{md:6,children:(0,y.jsx)(h.O,{type:"number",id:"manuItemNum",label:"Manufacturer Item Number",onChange:e=>{I(e.target.value)},value:k,name:"manuItemNum"})})]}),(0,y.jsx)(r.s,{className:"mb-4",children:(0,y.jsx)(d.U,{md:6,children:(0,y.jsx)(h.O,{type:"number",id:"gtinNum",label:"GTIN Number",onChange:e=>{Se(e.target.value)},value:pe,name:"gtinNum"})})}),(0,y.jsx)(r.s,{className:"mb-4",children:(0,y.jsx)(d.U,{md:12,children:(0,y.jsx)(h.O,{type:"text",id:"name",label:"Name",onChange:e=>{O(e.target.value)},value:D,name:"name"})})}),(0,y.jsx)(r.s,{className:"mb-4",children:(0,y.jsx)(d.U,{md:12,children:(0,y.jsx)(g.I,{id:"manuDesc",label:"Product Description",onChange:e=>{U(e.target.value)},value:f,name:"manuDesc"})})}),(0,y.jsx)(r.s,{className:"mb-4",children:(0,y.jsx)(d.U,{md:12,children:(0,y.jsx)(g.I,{id:"manuMarkStmt",label:"Product Marketing Statement",onChange:e=>{ce(e.target.value)},value:oe,name:"manuMarkStmt"})})}),(0,y.jsx)(r.s,{className:"mb-4",children:(0,y.jsx)(d.U,{md:6,children:(0,y.jsxs)(x.M,{id:"productType",label:"Product Type",name:"productType",onChange:e=>{T(e.target.value)},value:z,children:[(0,y.jsx)("option",{children:"Choose..."}),(0,y.jsx)("option",{value:"Paper",children:"Paper"}),(0,y.jsx)("option",{value:"Disposables",children:"Disposables"}),(0,y.jsx)("option",{value:"Beverages",children:"Beverages"}),(0,y.jsx)("option",{value:"FoodFrozen",children:"Food-Frozen"}),(0,y.jsx)("option",{value:"FoodFresh",children:"Food-Fresh"}),(0,y.jsx)("option",{value:"DryFoods",children:"Dry Foods"}),(0,y.jsx)("option",{value:"SmallWares",children:"Small Wares"})]})})})]})]})})}),(0,y.jsx)(r.s,{children:(0,y.jsx)(d.U,{md:9,lg:7,xl:12,children:(0,y.jsxs)(o.E,{className:"mb-4",children:[(0,y.jsx)(c.V,{children:"Product Images"}),(0,y.jsxs)(u.W,{className:"p-4",children:[oa.map(((e,a)=>(0,y.jsxs)(r.s,{className:"mb-3",children:[(0,y.jsx)(d.U,{children:(0,y.jsxs)(x.M,{id:"imageType".concat(a),name:"imageType",value:e.imageType,onChange:e=>va(a,e),children:[(0,y.jsx)("option",{value:"",children:"...Choose"}),(0,y.jsx)("option",{value:"close",children:"Closed Case"}),(0,y.jsx)("option",{value:"open",children:"Open Case"}),(0,y.jsx)("option",{value:"innerPack",children:"Inner Pack"}),(0,y.jsx)("option",{value:"raw",children:"Raw/Uncooked"}),(0,y.jsx)("option",{value:"plated",children:"Plated"}),(0,y.jsx)("option",{value:"styled",children:"Styled"})]})}),(0,y.jsxs)(d.U,{children:[(0,y.jsx)(h.O,{type:"file",id:"productImage".concat(a),name:"logo",onChange:e=>va(a,e)}),e.logoFile&&(0,y.jsx)(j.t,{rounded:!0,thumbnail:!0,width:200,height:200,src:e.logoFile})]}),(0,y.jsx)(d.U,{children:(0,y.jsx)(v.Q,{color:"danger",onClick:()=>(e=>{const a=[...oa];a.splice(e,1),ca(a)})(a),children:"Remove"})})]},a))),(0,y.jsx)(v.Q,{type:"button",onClick:()=>{ca([...oa,{imageType:"",logo:"",logoFile:null,base64Image:""}])},className:"btn btn-primary",children:"Add Image"})]})]})})}),(0,y.jsx)(r.s,{children:(0,y.jsx)(d.U,{md:9,lg:7,xl:12,children:(0,y.jsxs)(o.E,{className:"mb-4",children:[(0,y.jsx)(c.V,{children:"Product Attributes"}),(0,y.jsxs)(u.W,{className:"p-4",children:[(0,y.jsxs)(r.s,{className:"mb-4",children:[(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",locale:"en-US",id:"caseCount",label:"Case Count",onChange:e=>{me(e.target.value)},value:ue,name:"caseCount"})}),(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",id:"masterPack",label:"Master Pack",onChange:e=>{ge(e.target.value)},value:he,name:"masterPack"})}),(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",id:"grossCaseWeight",label:"Gross Case Weight",onChange:e=>{je(e.target.value)},value:xe,name:"grossCaseWeight"})}),(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",id:"masterUnitSize",label:"Master Unit Size",onChange:e=>{be(e.target.value)},value:ve,name:"masterUnitSize"})})]}),(0,y.jsxs)(r.s,{className:"mb-4",children:[(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"text",id:"caseDimeTitle",name:"caseDimeTitle",label:"Case Dimensions",placeholder:"title",onChange:e=>{P(e.target.value)},value:L,invalid:!!xa.caseDimeTitle})}),(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",id:"caseDimeLength",label:"Length",onChange:e=>{W(e.target.value)},value:M,name:"masterUnitSize",invalid:!!xa.caseDimeLength})}),(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",id:"caseDimeWidth",label:"Width",onChange:e=>{_(e.target.value)},value:A,name:"masterUnitSize",invalid:!!xa.caseDimeWidth})}),(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",id:"caseDimeHeight",label:"Height",onChange:e=>{V(e.target.value)},value:R,name:"masterUnitSize",invalid:!!xa.caseDimeHeight})})]}),(0,y.jsxs)(r.s,{className:"mb-4",children:[(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"text",id:"shelfLifeManu",label:"Shelf Life from Manufacturer",name:"shelfLifeManu",onChange:e=>{B(e.target.value)},value:Q})}),(0,y.jsx)(d.U,{children:(0,y.jsxs)(x.M,{id:"storageMethod",label:"Storage Method",name:"storageMethod",onChange:e=>{G(e.target.value)},value:H,children:[(0,y.jsx)("option",{children:"Choose..."}),(0,y.jsx)("option",{value:"Dry",children:"Dry"}),(0,y.jsx)("option",{value:"Refrigerated",children:"Refrigerated"}),(0,y.jsx)("option",{value:"Frozen",children:"Frozen"})]})}),(0,y.jsx)(d.U,{children:(0,y.jsxs)(x.M,{id:"shelfLife",label:"Shelf Life",name:"shelfLife",onChange:e=>{le(e.target.value)},value:se,children:[(0,y.jsx)("option",{children:"Choose..."}),(0,y.jsx)("option",{value:"UseByDate",children:"Use By Date"}),(0,y.jsx)("option",{value:"days365",children:"365 days"}),(0,y.jsx)("option",{value:"days365Plus",children:"365 days plus"})]})})]}),(0,y.jsx)(r.s,{className:"mb-4",children:(0,y.jsx)(d.U,{md:12,children:(0,y.jsx)(g.I,{id:"ingreList",label:"List of all Ingredients",onChange:e=>{J(e.target.value)},value:Z,name:"ingreList"})})}),(0,y.jsx)(r.s,{className:"mb-4",children:(0,y.jsx)(d.U,{md:12,children:(0,y.jsx)(g.I,{id:"tips",label:"Tips & Handling",onChange:e=>{q(e.target.value)},value:Y,name:"tips"})})})]})]})})}),(0,y.jsx)(r.s,{children:(0,y.jsxs)(o.E,{children:[(0,y.jsx)(c.V,{children:"Nutritional Facts"}),(0,y.jsxs)(u.W,{className:"p-4",children:[(0,y.jsxs)(r.s,{children:[(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",id:"calories",label:"Calories",onChange:e=>{Ce(e.target.value)},value:ye,name:"calories"})}),(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",id:"cholestrol",label:"Cholesterol (mg)",onChange:e=>{Ue(e.target.value)},value:fe,name:"cholestrol"})}),(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",id:"sodium",label:"Sodium (mg)",onChange:e=>{Te(e.target.value)},value:ze,name:"sodium"})})]}),(0,y.jsxs)(r.s,{children:[(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",id:"totalFat",label:"Total Fat (g)",onChange:e=>{Fe(e.target.value)},value:Ne,name:"totalFat"})}),(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",id:"saturatedFat",label:"Saturated Fat (g)",onChange:e=>{Oe(e.target.value)},value:De,name:"saturatedFat"})}),(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",id:"transFat",label:"Trans Fat (g)",onChange:e=>{Ie(e.target.value)},value:ke,name:"transFat"})})]}),(0,y.jsxs)(r.s,{children:[(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",id:"totalCarboht",label:"Total Carbohydrate (g)",onChange:e=>{Pe(e.target.value)},value:Le,name:"totalCarboht"})}),(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",id:"totalSugar",label:"Total Sugars (g)",onChange:e=>{_e(e.target.value)},value:Ae,name:"totalSugar"})}),(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",id:"addedSugar",label:"Added Sugars (g)",onChange:e=>{Ve(e.target.value)},value:Re,name:"addedSugar"})})]}),(0,y.jsxs)(r.s,{children:[(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",id:"protein",label:"Protein (g)",onChange:e=>{Ee(e.target.value)},value:we,name:"protein"})}),(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",id:"dietaryFiber",label:"Dietary Fiber (g)",onChange:e=>{We(e.target.value)},value:Me,name:"dietaryFiber"})}),(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",id:"vitD",label:" Vitamin D (mcg)",onChange:e=>{Be(e.target.value)},value:Qe,name:"vitD"})})]}),(0,y.jsxs)(r.s,{children:[(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",id:"calcuim",label:"Calcium (mg)",onChange:e=>{Ge(e.target.value)},value:He,name:"calcuim"})}),(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",id:"iron",label:"Iron (mg)",onChange:e=>{qe(e.target.value)},value:Ye,name:"iron"})}),(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",id:"potassium",label:"Potassium (mg)",onChange:e=>{Je(e.target.value)},value:Ze,name:"potassium"})})]}),(0,y.jsxs)(r.s,{children:[(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",id:"servingSize",label:"Serving Size",name:"servingSize",onChange:e=>{E(e.target.value)},value:w})}),(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",id:"servicePerCont",label:"Servings per Container",onChange:e=>{X(e.target.value)},value:K,name:"servicePerCont"})}),(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",id:"serviceSizeQty",label:"Serving Size Qty",onChange:e=>{ee(e.target.value)},value:$,name:"serviceSizeQty"})}),(0,y.jsx)(d.U,{children:(0,y.jsx)(h.O,{type:"number",id:"serviceSizeWt",label:"Serving Size Weight (g)",onChange:e=>{te(e.target.value)},value:ae,name:"serviceSizeWt"})})]}),(0,y.jsx)(r.s,{className:"mb-4",children:(0,y.jsx)(d.U,{children:(0,y.jsxs)(x.M,{id:"cnLabel",label:"C N Label",name:"cnLabel",onChange:e=>{Xe(e.target.value)},value:Ke,children:[(0,y.jsx)("option",{value:"Yes",children:"Yes"}),(0,y.jsx)("option",{value:"No",children:"No"})]})})})]})]})}),(0,y.jsx)(r.s,{children:(0,y.jsxs)(o.E,{className:"mb-4",children:[(0,y.jsx)(c.V,{children:"Visibility"}),(0,y.jsx)(u.W,{className:"p-4",children:(0,y.jsx)(r.s,{className:"mb-4",children:(0,y.jsx)(d.U,{children:(0,y.jsxs)(x.M,{id:"isActive",label:"Published Product",name:"isActive",onChange:e=>{ea(e.target.value)},value:$e,children:[(0,y.jsx)("option",{value:"true",children:"Published"}),(0,y.jsx)("option",{value:"false",children:"Unpublished"})]})})})})]})}),C?(0,y.jsx)(r.s,{className:"p-4",children:(0,y.jsx)(d.U,{xs:12,children:(0,y.jsx)(v.Q,{color:"primary",type:"submit",disabled:ua,className:"float-end",children:"Update Product"})})}):""]})})})}},1289:(e,a,t)=>{t.d(a,{I:()=>o});var s=t(5664),l=t(65043),i=t(65173),n=t.n(i),r=t(65689),d=t(95755),o=(0,l.forwardRef)((function(e,a){var t=e.children,i=e.className,n=e.feedback,o=e.feedbackInvalid,c=e.feedbackValid,u=e.floatingClassName,m=e.floatingLabel,h=e.id,g=e.invalid,x=e.label,j=e.plainText,v=e.text,b=e.tooltipFeedback,p=e.valid,S=(0,s.Tt)(e,["children","className","feedback","feedbackInvalid","feedbackValid","floatingClassName","floatingLabel","id","invalid","label","plainText","text","tooltipFeedback","valid"]);return l.createElement(d.O,{describedby:S["aria-describedby"],feedback:n,feedbackInvalid:o,feedbackValid:c,floatingClassName:u,floatingLabel:m,id:h,invalid:g,label:x,text:v,tooltipFeedback:b,valid:p},l.createElement("textarea",(0,s.Cl)({className:(0,r.A)(j?"form-control-plaintext":"form-control",{"is-invalid":g,"is-valid":p},i),id:h},S,{ref:a}),t))}));o.propTypes=(0,s.Cl)({className:n().string,id:n().string,plainText:n().bool},d.O.propTypes),o.displayName="CFormTextarea"}}]);
//# sourceMappingURL=7921.7be88dca.chunk.js.map