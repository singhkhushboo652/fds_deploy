"use strict";(self.webpackChunk_coreui_coreui_pro_react_admin_template_cra=self.webpackChunk_coreui_coreui_pro_react_admin_template_cra||[]).push([[1519],{81519:(e,a,l)=>{l.r(a),l.d(a,{default:()=>N});var t=l(65043),n=l(73216),s=l(64716),i=l(56267),c=l(50280),o=l(63821),r=l(67603),d=l(4522),m=l(25943),u=l(44261),h=l(9447),p=l(81267),g=l(24685),b=l(20035),v=l(52171),y=(l(6145),l(77154)),f=l(63401),x=l(95778),j=l(70579);const N=()=>{var e;const a=null===(e=(0,n.zy)().state)||void 0===e?void 0:e.clientId,[l,N]=(0,t.useState)(""),[C,E]=(0,t.useState)(""),[I,k]=(0,t.useState)(),[D,B]=(0,t.useState)(),[A,S]=(0,t.useState)(""),[_,F]=(0,t.useState)(""),[O,w]=(0,t.useState)(!1),[T,M]=(0,t.useState)([]),[R,z]=(0,t.useState)([]),[P,L]=(0,t.useState)([]),[U,V]=(0,t.useState)(!0);(0,t.useEffect)((()=>{y.A.get("user/findAll",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((e=>M(e.data.data))).catch((e=>console.error("error fetching users",e))),y.A.get("brand/findAll",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((e=>{const a=e.data.data.map((e=>({value:e.id,label:e.name})));z(a)})).catch((e=>console.error("error fetching brand",e))),y.A.get("client/"+a,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((e=>{if(e.data){let a=e.data.data;N(a.companyName),E(a.clientType),S(a.contactId),L(a.brands.map((e=>({value:e.id,label:e.name})))),B("http://node93696-pimgmt.j.scaleforce.net:11064/"+a.logo),V(a.permission);let l=a.imageDisplayOrder;F(l),"unspecified"==l?(document.getElementById("unspecified").checked=!0,document.getElementById("imageDisplay1").disabled=!0,document.getElementById("imageDisplay2").disabled=!0,document.getElementById("imageDisplay3").disabled=!0,document.getElementById("imageDisplay4").disabled=!0):(l=l.split(","),document.getElementById("imageDisplay1").value=l[0],document.getElementById("imageDisplay2").value=l[1],document.getElementById("imageDisplay3").value=l[2],document.getElementById("imageDisplay4").value=l[3])}}))}),[]);const q=e=>{if(document.getElementById("unspecified").checked)document.getElementById("imageDisplay1").disabled=!0,document.getElementById("imageDisplay2").disabled=!0,document.getElementById("imageDisplay3").disabled=!0,document.getElementById("imageDisplay4").disabled=!0,F("unspecified");else{document.getElementById("imageDisplay1").disabled=!1,document.getElementById("imageDisplay2").disabled=!1,document.getElementById("imageDisplay3").disabled=!1,document.getElementById("imageDisplay4").disabled=!1;let e=document.getElementById("imageDisplay1").value,a=document.getElementById("imageDisplay2").value,l=document.getElementById("imageDisplay3").value,t=document.getElementById("imageDisplay4").value;F(e+","+a+","+l+","+t)}},Q=async e=>{e.preventDefault(),w(!0);let t="";var n;I&&(t=await(n=I,new Promise(((e,a)=>{const l=new FileReader;l.readAsDataURL(n),l.onload=()=>e(l.result),l.onerror=e=>a(e)})))),console.log(t);let s={companyName:l,contactId:A,clientType:C,imageDisplayOrder:_,brandIds:P.map((e=>e.value)),logo:t};y.A.patch("/client/update/"+a,s,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Contetnt-Type":"multipart/form-data"}}).then((e=>{f.oR.success(e.data.message),w(!1)})).catch((e=>{w(!1),e.response.data.errors}))};return(0,j.jsx)("div",{className:"bg-body-tertiary min-vh-75 d-flex flex-row align-items-center",children:(0,j.jsx)(s.T,{children:(0,j.jsxs)(i.q,{className:"row g-3",onSubmit:e=>Q(e),children:[(0,j.jsx)(c.s,{className:"justify-content-center",children:(0,j.jsx)(o.U,{md:9,lg:7,xl:12,children:(0,j.jsxs)(r.E,{className:"mb-4",children:[(0,j.jsx)(d.V,{children:"Client Information"}),(0,j.jsxs)(m.W,{className:"p-4",children:[(0,j.jsxs)(c.s,{className:"mb-3",children:[(0,j.jsx)(u.A,{htmlFor:"companyName",className:"col-sm-3 col-form-label",children:"Company Name"}),(0,j.jsx)("div",{className:"col-sm-8",children:(0,j.jsx)(h.O,{type:"text",id:"companyName",onChange:e=>{N(e.target.value)},value:l,name:"companyName"})})]}),(0,j.jsxs)(c.s,{className:"mb-4",children:[(0,j.jsx)(u.A,{htmlFor:"clientType",className:"col-sm-3 col-form-label",children:"Company Type"}),(0,j.jsx)("div",{className:"col-sm-8",children:(0,j.jsxs)(p.M,{id:"clientType",name:"clientType",onChange:e=>{E(e.target.value)},value:C,children:[(0,j.jsx)("option",{children:"Choose..."}),(0,j.jsx)("option",{value:"broker",children:"Broker"}),(0,j.jsx)("option",{value:"distributer",children:"Distributer"}),(0,j.jsx)("option",{value:"Manufacturer",children:"Manufacturer"})]})})]}),(0,j.jsxs)(c.s,{className:"mb-3",children:[(0,j.jsx)(u.A,{htmlFor:"Logo",className:"col-sm-3 col-form-label",children:"Logo"}),(0,j.jsxs)("div",{className:"col-sm-8",children:[(0,j.jsx)(h.O,{type:"file",id:"logo",onChange:e=>{k(e.target.files[0])},name:"logo"}),(0,j.jsx)(g.t,{rounded:!0,thumbnail:!0,src:D,width:200,height:200})]})]}),(0,j.jsxs)(c.s,{className:"mb-3",children:[(0,j.jsx)(u.A,{htmlFor:"Brands",className:"col-sm-3 col-form-label",children:"Brands"}),(0,j.jsx)("div",{className:"col-sm-8",children:(0,j.jsx)(x.Ay,{options:R,isMulti:!0,value:P,onChange:e=>L(e),placeholder:"Select brands...",className:"basic-multi-select",classNamePrefix:"select",isClearable:!1,closeMenuOnSelect:!1,styles:{control:e=>({...e,borderRadius:0,borderColor:"#ced4da"}),menu:e=>({...e,zIndex:9999})}})})]}),(0,j.jsxs)(c.s,{className:"mb-4",children:[(0,j.jsx)(u.A,{htmlFor:"imageDisplayOrder",className:"col-sm-3 col-form-label",children:"Image Display Order"}),(0,j.jsxs)("div",{className:"col-sm-9",children:[(0,j.jsx)(b.C,{id:"unspecified",label:"Unspecified",className:"col-sm-2",onChange:e=>{q(e.target.value)}}),(0,j.jsx)("div",{className:"col-sm-2 float-start ml-5",children:(0,j.jsxs)(p.M,{id:"imageDisplay1",className:"col-sm-2 float-start",onChange:e=>{q(e.target.value)},children:[(0,j.jsx)("option",{value:"c",children:"Closed Case"}),(0,j.jsx)("option",{value:"o",children:"Open Case"}),(0,j.jsx)("option",{value:"e",children:"Inner Package"}),(0,j.jsx)("option",{value:"i",children:"Raw"})]})}),(0,j.jsx)("div",{className:"col-sm-2 float-start ml-5",children:(0,j.jsxs)(p.M,{id:"imageDisplay2",className:"col-sm-2",onChange:e=>{q(e.target.value)},children:[(0,j.jsx)("option",{value:"c",children:"Closed Case"}),(0,j.jsx)("option",{value:"o",children:"Open Case"}),(0,j.jsx)("option",{value:"e",children:"Inner Package"}),(0,j.jsx)("option",{value:"i",children:"Raw"})]})}),(0,j.jsx)("div",{className:"col-sm-2 float-start ml-5",children:(0,j.jsxs)(p.M,{id:"imageDisplay3",className:"col-sm-2",onChange:e=>{q(e.target.value)},children:[(0,j.jsx)("option",{value:"c",children:"Closed Case"}),(0,j.jsx)("option",{value:"o",children:"Open Case"}),(0,j.jsx)("option",{value:"e",children:"Inner Package"}),(0,j.jsx)("option",{value:"i",children:"Raw"})]})}),(0,j.jsx)("div",{className:"col-sm-2 float-start ml-5",children:(0,j.jsxs)(p.M,{id:"imageDisplay4",className:"col-sm-2",onChange:e=>{q(e.target.value)},children:[(0,j.jsx)("option",{value:"c",children:"Closed Case"}),(0,j.jsx)("option",{value:"o",children:"Open Case"}),(0,j.jsx)("option",{value:"e",children:"Inner Package"}),(0,j.jsx)("option",{value:"i",children:"Raw"})]})})]})]}),(0,j.jsxs)(c.s,{className:"mb-4",children:[(0,j.jsx)(u.A,{htmlFor:"contactPerson",className:"col-sm-3 col-form-label",children:"Contact Person"}),(0,j.jsx)("div",{className:"col-sm-8",children:(0,j.jsx)(p.M,{id:"contactId",name:"contactId",onChange:e=>{S(e.target.value)},value:A,children:T.map(((e,a)=>(0,j.jsx)("option",{value:e.id,children:e.username},a)))})})]})]})]})})}),U?(0,j.jsx)(c.s,{className:"p-4",children:(0,j.jsx)(o.U,{xs:12,children:(0,j.jsx)(v.Q,{color:"primary",type:"submit",disabled:O,className:"float-end",children:"Update Company"})})}):""]})})})}},20035:(e,a,l)=>{l.d(a,{C:()=>m});var t=l(5664),n=l(65043),s=l(65173),i=l.n(s),c=l(65689),o=l(48377),r=l(44261),d=l(95188),m=(0,n.forwardRef)((function(e,a){var l=e.className,s=e.button,i=e.feedback,m=e.feedbackInvalid,u=e.feedbackValid,h=e.floatingLabel,p=e.tooltipFeedback,g=e.hitArea,b=e.id,v=e.indeterminate,y=e.inline,f=e.invalid,x=e.label,j=e.reverse,N=e.type,C=void 0===N?"checkbox":N,E=e.valid,I=(0,t.Tt)(e,["className","button","feedback","feedbackInvalid","feedbackValid","floatingLabel","tooltipFeedback","hitArea","id","indeterminate","inline","invalid","label","reverse","type","valid"]),k=(0,n.useRef)(null),D=(0,d.E2)(a,k);(0,n.useEffect)((function(){k.current&&v&&(k.current.indeterminate=v)}),[v,k.current]);var B=function(){return n.createElement("input",(0,t.Cl)({type:C,className:(0,c.A)(s?"btn-check":"form-check-input",{"is-invalid":f,"is-valid":E,"me-2":g}),id:b},I,{ref:D}))},A=function(){return n.createElement(o._,{describedby:I["aria-describedby"],feedback:i,feedbackInvalid:m,feedbackValid:u,floatingLabel:h,invalid:f,tooltipFeedback:p,valid:E})},S=function(){var e;return n.createElement(r.A,(0,t.Cl)({customClassName:(0,c.A)(s?(0,c.A)("btn",s.variant?"btn-".concat(s.variant,"-").concat(s.color):"btn-".concat(s.color),(e={},e["btn-".concat(s.size)]=s.size,e),"".concat(s.shape)):"form-check-label")},b&&{htmlFor:b}),x)};return n.createElement((function(){return s?n.createElement(n.Fragment,null,n.createElement(B,null),x&&n.createElement(S,null),n.createElement(A,null)):x?g?n.createElement(n.Fragment,null,n.createElement(B,null),n.createElement(r.A,(0,t.Cl)({customClassName:(0,c.A)("form-check-label stretched-link",l)},b&&{htmlFor:b}),x),n.createElement(A,null)):n.createElement("div",{className:(0,c.A)("form-check",{"form-check-inline":y,"form-check-reverse":j,"is-invalid":f,"is-valid":E},l)},n.createElement(B,null),n.createElement(S,null),n.createElement(A,null)):n.createElement(B,null)}),null)}));m.propTypes=(0,t.Cl)({button:i().object,className:i().string,hitArea:i().oneOf(["full"]),id:i().string,indeterminate:i().bool,inline:i().bool,label:i().oneOfType([i().string,i().node]),reverse:i().bool,type:i().oneOf(["checkbox","radio"])},o._.propTypes),m.displayName="CFormCheck"}}]);
//# sourceMappingURL=1519.a1cbe3ac.chunk.js.map