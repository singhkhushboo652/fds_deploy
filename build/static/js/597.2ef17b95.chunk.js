"use strict";(self.webpackChunk_coreui_coreui_pro_react_admin_template_cra=self.webpackChunk_coreui_coreui_pro_react_admin_template_cra||[]).push([[597],{81519:(e,a,l)=>{l.r(a),l.d(a,{default:()=>C});var t=l(65043),n=l(73216),s=l(64716),r=l(56267),c=l(50280),o=l(63821),i=l(67603),d=l(4522),m=l(25943),p=l(44261),u=l(9447),f=l(81267),h=l(24685),g=l(20035),b=l(52171),y=(l(6145),l(77154)),v=l(63401),x=l(95778),N=l(70579);const C=()=>{var e;const a=null===(e=(0,n.zy)().state)||void 0===e?void 0:e.clientId,[l,C]=(0,t.useState)(""),[j,E]=(0,t.useState)(""),[k,T]=(0,t.useState)(),[I,A]=(0,t.useState)(),[B,O]=(0,t.useState)(""),[D,F]=(0,t.useState)(""),[w,S]=(0,t.useState)(!1),[R,_]=(0,t.useState)([]),[M,V]=(0,t.useState)([]),[L,z]=(0,t.useState)([]),[P,U]=(0,t.useState)(!0);(0,t.useEffect)((()=>{y.A.get("user/findAll",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((e=>_(e.data.data))).catch((e=>console.error("error fetching users",e))),y.A.get("brand/findAll",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((e=>{const a=e.data.data.map((e=>({value:e.id,label:e.name})));V(a)})).catch((e=>console.error("error fetching brand",e))),y.A.get("client/"+a,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((e=>{if(e.data){let a=e.data.data;C(a.companyName),E(a.clientType),O(a.contactId),z(a.brands.map((e=>({value:e.id,label:e.name})))),A("http://node93696-pimgmt.j.scaleforce.net:11064/"+a.logo),U(a.permission);let l=a.imageDisplayOrder;F(l),"unspecified"==l?(document.getElementById("unspecified").checked=!0,document.getElementById("imageDisplay1").disabled=!0,document.getElementById("imageDisplay2").disabled=!0,document.getElementById("imageDisplay3").disabled=!0,document.getElementById("imageDisplay4").disabled=!0):(l=l.split(","),document.getElementById("imageDisplay1").value=l[0],document.getElementById("imageDisplay2").value=l[1],document.getElementById("imageDisplay3").value=l[2],document.getElementById("imageDisplay4").value=l[3])}}))}),[]);const X=e=>{if(document.getElementById("unspecified").checked)document.getElementById("imageDisplay1").disabled=!0,document.getElementById("imageDisplay2").disabled=!0,document.getElementById("imageDisplay3").disabled=!0,document.getElementById("imageDisplay4").disabled=!0,F("unspecified");else{document.getElementById("imageDisplay1").disabled=!1,document.getElementById("imageDisplay2").disabled=!1,document.getElementById("imageDisplay3").disabled=!1,document.getElementById("imageDisplay4").disabled=!1;let e=document.getElementById("imageDisplay1").value,a=document.getElementById("imageDisplay2").value,l=document.getElementById("imageDisplay3").value,t=document.getElementById("imageDisplay4").value;F(e+","+a+","+l+","+t)}},W=async e=>{e.preventDefault(),S(!0);let t="";var n;k&&(t=await(n=k,new Promise(((e,a)=>{const l=new FileReader;l.readAsDataURL(n),l.onload=()=>e(l.result),l.onerror=e=>a(e)})))),console.log(t);let s={companyName:l,contactId:B,clientType:j,imageDisplayOrder:D,brandIds:L.map((e=>e.value)),logo:t};y.A.patch("/client/update/"+a,s,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Contetnt-Type":"multipart/form-data"}}).then((e=>{v.oR.success(e.data.message),S(!1)})).catch((e=>{S(!1),e.response.data.errors}))};return(0,N.jsx)("div",{className:"bg-body-tertiary min-vh-75 d-flex flex-row align-items-center",children:(0,N.jsx)(s.T,{children:(0,N.jsxs)(r.q,{className:"row g-3",onSubmit:e=>W(e),children:[(0,N.jsx)(c.s,{className:"justify-content-center",children:(0,N.jsx)(o.U,{md:9,lg:7,xl:12,children:(0,N.jsxs)(i.E,{className:"mb-4",children:[(0,N.jsx)(d.V,{children:"Client Information"}),(0,N.jsxs)(m.W,{className:"p-4",children:[(0,N.jsxs)(c.s,{className:"mb-3",children:[(0,N.jsx)(p.A,{htmlFor:"companyName",className:"col-sm-3 col-form-label",children:"Company Name"}),(0,N.jsx)("div",{className:"col-sm-8",children:(0,N.jsx)(u.O,{type:"text",id:"companyName",onChange:e=>{C(e.target.value)},value:l,name:"companyName"})})]}),(0,N.jsxs)(c.s,{className:"mb-4",children:[(0,N.jsx)(p.A,{htmlFor:"clientType",className:"col-sm-3 col-form-label",children:"Company Type"}),(0,N.jsx)("div",{className:"col-sm-8",children:(0,N.jsxs)(f.M,{id:"clientType",name:"clientType",onChange:e=>{E(e.target.value)},value:j,children:[(0,N.jsx)("option",{children:"Choose..."}),(0,N.jsx)("option",{value:"broker",children:"Broker"}),(0,N.jsx)("option",{value:"distributer",children:"Distributer"}),(0,N.jsx)("option",{value:"Manufacturer",children:"Manufacturer"})]})})]}),(0,N.jsxs)(c.s,{className:"mb-3",children:[(0,N.jsx)(p.A,{htmlFor:"Logo",className:"col-sm-3 col-form-label",children:"Logo"}),(0,N.jsxs)("div",{className:"col-sm-8",children:[(0,N.jsx)(u.O,{type:"file",id:"logo",onChange:e=>{T(e.target.files[0])},name:"logo"}),(0,N.jsx)(h.t,{rounded:!0,thumbnail:!0,src:I,width:200,height:200})]})]}),(0,N.jsxs)(c.s,{className:"mb-3",children:[(0,N.jsx)(p.A,{htmlFor:"Brands",className:"col-sm-3 col-form-label",children:"Brands"}),(0,N.jsx)("div",{className:"col-sm-8",children:(0,N.jsx)(x.Ay,{options:M,isMulti:!0,value:L,onChange:e=>z(e),placeholder:"Select brands...",className:"basic-multi-select",classNamePrefix:"select",isClearable:!1,closeMenuOnSelect:!1,styles:{control:e=>({...e,borderRadius:0,borderColor:"#ced4da"}),menu:e=>({...e,zIndex:9999})}})})]}),(0,N.jsxs)(c.s,{className:"mb-4",children:[(0,N.jsx)(p.A,{htmlFor:"imageDisplayOrder",className:"col-sm-3 col-form-label",children:"Image Display Order"}),(0,N.jsxs)("div",{className:"col-sm-9",children:[(0,N.jsx)(g.C,{id:"unspecified",label:"Unspecified",className:"col-sm-2",onChange:e=>{X(e.target.value)}}),(0,N.jsx)("div",{className:"col-sm-2 float-start ml-5",children:(0,N.jsxs)(f.M,{id:"imageDisplay1",className:"col-sm-2 float-start",onChange:e=>{X(e.target.value)},children:[(0,N.jsx)("option",{value:"c",children:"Closed Case"}),(0,N.jsx)("option",{value:"o",children:"Open Case"}),(0,N.jsx)("option",{value:"e",children:"Inner Package"}),(0,N.jsx)("option",{value:"i",children:"Raw"})]})}),(0,N.jsx)("div",{className:"col-sm-2 float-start ml-5",children:(0,N.jsxs)(f.M,{id:"imageDisplay2",className:"col-sm-2",onChange:e=>{X(e.target.value)},children:[(0,N.jsx)("option",{value:"c",children:"Closed Case"}),(0,N.jsx)("option",{value:"o",children:"Open Case"}),(0,N.jsx)("option",{value:"e",children:"Inner Package"}),(0,N.jsx)("option",{value:"i",children:"Raw"})]})}),(0,N.jsx)("div",{className:"col-sm-2 float-start ml-5",children:(0,N.jsxs)(f.M,{id:"imageDisplay3",className:"col-sm-2",onChange:e=>{X(e.target.value)},children:[(0,N.jsx)("option",{value:"c",children:"Closed Case"}),(0,N.jsx)("option",{value:"o",children:"Open Case"}),(0,N.jsx)("option",{value:"e",children:"Inner Package"}),(0,N.jsx)("option",{value:"i",children:"Raw"})]})}),(0,N.jsx)("div",{className:"col-sm-2 float-start ml-5",children:(0,N.jsxs)(f.M,{id:"imageDisplay4",className:"col-sm-2",onChange:e=>{X(e.target.value)},children:[(0,N.jsx)("option",{value:"c",children:"Closed Case"}),(0,N.jsx)("option",{value:"o",children:"Open Case"}),(0,N.jsx)("option",{value:"e",children:"Inner Package"}),(0,N.jsx)("option",{value:"i",children:"Raw"})]})})]})]}),(0,N.jsxs)(c.s,{className:"mb-4",children:[(0,N.jsx)(p.A,{htmlFor:"contactPerson",className:"col-sm-3 col-form-label",children:"Contact Person"}),(0,N.jsx)("div",{className:"col-sm-8",children:(0,N.jsx)(f.M,{id:"contactId",name:"contactId",onChange:e=>{O(e.target.value)},value:B,children:R.map(((e,a)=>(0,N.jsx)("option",{value:e.id,children:e.username},a)))})})]})]})]})})}),P?(0,N.jsx)(c.s,{className:"p-4",children:(0,N.jsx)(o.U,{xs:12,children:(0,N.jsx)(b.Q,{color:"primary",type:"submit",disabled:w,className:"float-end",children:"Update Company"})})}):""]})})})}},67603:(e,a,l)=>{l.d(a,{E:()=>i});var t=l(5664),n=l(65043),s=l(65173),r=l.n(s),c=l(65689),o=l(53766),i=(0,n.forwardRef)((function(e,a){var l,s=e.children,r=e.className,o=e.color,i=e.textBgColor,d=e.textColor,m=(0,t.Tt)(e,["children","className","color","textBgColor","textColor"]);return n.createElement("div",(0,t.Cl)({className:(0,c.A)("card",(l={},l["bg-".concat(o)]=o,l["text-".concat(d)]=d,l["text-bg-".concat(i)]=i,l),r)},m,{ref:a}),s)}));i.propTypes={children:r().node,className:r().string,color:r().oneOfType([o.TX,o.db]),textBgColor:o.TX,textColor:r().string},i.displayName="CCard"},25943:(e,a,l)=>{l.d(a,{W:()=>o});var t=l(5664),n=l(65043),s=l(65173),r=l.n(s),c=l(65689),o=(0,n.forwardRef)((function(e,a){var l=e.children,s=e.className,r=(0,t.Tt)(e,["children","className"]);return n.createElement("div",(0,t.Cl)({className:(0,c.A)("card-body",s)},r,{ref:a}),l)}));o.propTypes={children:r().node,className:r().string},o.displayName="CCardBody"},4522:(e,a,l)=>{l.d(a,{V:()=>o});var t=l(5664),n=l(65043),s=l(65173),r=l.n(s),c=l(65689),o=(0,n.forwardRef)((function(e,a){var l=e.children,s=e.as,r=void 0===s?"div":s,o=e.className,i=(0,t.Tt)(e,["children","as","className"]);return n.createElement(r,(0,t.Cl)({className:(0,c.A)("card-header",o)},i,{ref:a}),l)}));o.propTypes={as:r().elementType,children:r().node,className:r().string},o.displayName="CCardHeader"},20035:(e,a,l)=>{l.d(a,{C:()=>m});var t=l(5664),n=l(65043),s=l(65173),r=l.n(s),c=l(65689),o=l(48377),i=l(44261),d=l(95188),m=(0,n.forwardRef)((function(e,a){var l=e.className,s=e.button,r=e.feedback,m=e.feedbackInvalid,p=e.feedbackValid,u=e.floatingLabel,f=e.tooltipFeedback,h=e.hitArea,g=e.id,b=e.indeterminate,y=e.inline,v=e.invalid,x=e.label,N=e.reverse,C=e.type,j=void 0===C?"checkbox":C,E=e.valid,k=(0,t.Tt)(e,["className","button","feedback","feedbackInvalid","feedbackValid","floatingLabel","tooltipFeedback","hitArea","id","indeterminate","inline","invalid","label","reverse","type","valid"]),T=(0,n.useRef)(null),I=(0,d.E2)(a,T);(0,n.useEffect)((function(){T.current&&b&&(T.current.indeterminate=b)}),[b,T.current]);var A=function(){return n.createElement("input",(0,t.Cl)({type:j,className:(0,c.A)(s?"btn-check":"form-check-input",{"is-invalid":v,"is-valid":E,"me-2":h}),id:g},k,{ref:I}))},B=function(){return n.createElement(o._,{describedby:k["aria-describedby"],feedback:r,feedbackInvalid:m,feedbackValid:p,floatingLabel:u,invalid:v,tooltipFeedback:f,valid:E})},O=function(){var e;return n.createElement(i.A,(0,t.Cl)({customClassName:(0,c.A)(s?(0,c.A)("btn",s.variant?"btn-".concat(s.variant,"-").concat(s.color):"btn-".concat(s.color),(e={},e["btn-".concat(s.size)]=s.size,e),"".concat(s.shape)):"form-check-label")},g&&{htmlFor:g}),x)};return n.createElement((function(){return s?n.createElement(n.Fragment,null,n.createElement(A,null),x&&n.createElement(O,null),n.createElement(B,null)):x?h?n.createElement(n.Fragment,null,n.createElement(A,null),n.createElement(i.A,(0,t.Cl)({customClassName:(0,c.A)("form-check-label stretched-link",l)},g&&{htmlFor:g}),x),n.createElement(B,null)):n.createElement("div",{className:(0,c.A)("form-check",{"form-check-inline":y,"form-check-reverse":N,"is-invalid":v,"is-valid":E},l)},n.createElement(A,null),n.createElement(O,null),n.createElement(B,null)):n.createElement(A,null)}),null)}));m.propTypes=(0,t.Cl)({button:r().object,className:r().string,hitArea:r().oneOf(["full"]),id:r().string,indeterminate:r().bool,inline:r().bool,label:r().oneOfType([r().string,r().node]),reverse:r().bool,type:r().oneOf(["checkbox","radio"])},o._.propTypes),m.displayName="CFormCheck"},48377:(e,a,l)=>{l.d(a,{_:()=>o});var t=l(5664),n=l(65043),s=l(65173),r=l.n(s),c=l(43664),o=function(e){var a=e.describedby,l=e.feedback,s=e.feedbackInvalid,r=e.feedbackValid,o=e.invalid,i=e.tooltipFeedback,d=e.valid;return n.createElement(n.Fragment,null,l&&(d||o)&&n.createElement(c.T,(0,t.Cl)({},o&&{id:a},{invalid:o,tooltip:i,valid:d}),l),s&&n.createElement(c.T,{id:a,invalid:!0,tooltip:i},s),r&&n.createElement(c.T,{valid:!0,tooltip:i},r))};o.propTypes={describedby:r().string,feedback:r().oneOfType([r().node,r().string]),feedbackValid:r().oneOfType([r().node,r().string]),feedbackInvalid:r().oneOfType([r().node,r().string]),invalid:r().bool,tooltipFeedback:r().bool,valid:r().bool},o.displayName="CFormControlValidation"},95755:(e,a,l)=>{l.d(a,{O:()=>p});var t=l(5664),n=l(65043),s=l(65173),r=l.n(s),c=l(48377),o=l(68109),i=l(44261),d=l(65689),m=(0,n.forwardRef)((function(e,a){var l=e.children,s=e.as,r=void 0===s?"div":s,c=e.className,o=(0,t.Tt)(e,["children","as","className"]);return n.createElement(r,(0,t.Cl)({className:(0,d.A)("form-text",c)},o,{ref:a}),l)}));m.propTypes={as:r().elementType,children:r().node,className:r().string},m.displayName="CFormText";var p=function(e){var a=e.children,l=e.describedby,t=e.feedback,s=e.feedbackInvalid,r=e.feedbackValid,d=e.floatingClassName,p=e.floatingLabel,u=e.id,f=e.invalid,h=e.label,g=e.text,b=e.tooltipFeedback,y=e.valid,v=function(){return n.createElement(c._,{describedby:l,feedback:t,feedbackInvalid:s,feedbackValid:r,floatingLabel:p,invalid:f,tooltipFeedback:b,valid:y})};return p?n.createElement(o.S,{className:d},a,n.createElement(i.A,{htmlFor:u},h||p),g&&n.createElement(m,{id:l},g),n.createElement(v,null)):n.createElement(n.Fragment,null,h&&n.createElement(i.A,{htmlFor:u},h),a,g&&n.createElement(m,{id:l},g),n.createElement(v,null))};p.propTypes=(0,t.Cl)({children:r().node,floatingClassName:r().string,floatingLabel:r().oneOfType([r().node,r().string]),label:r().oneOfType([r().node,r().string]),text:r().oneOfType([r().node,r().string])},c._.propTypes),p.displayName="CFormControlWrapper"},43664:(e,a,l)=>{l.d(a,{T:()=>o});var t=l(5664),n=l(65043),s=l(65173),r=l.n(s),c=l(65689),o=(0,n.forwardRef)((function(e,a){var l,s=e.children,r=e.as,o=void 0===r?"div":r,i=e.className,d=e.invalid,m=e.tooltip,p=e.valid,u=(0,t.Tt)(e,["children","as","className","invalid","tooltip","valid"]);return n.createElement(o,(0,t.Cl)({className:(0,c.A)((l={},l["invalid-".concat(m?"tooltip":"feedback")]=d,l["valid-".concat(m?"tooltip":"feedback")]=p,l),i)},u,{ref:a}),s)}));o.propTypes={as:r().elementType,children:r().node,className:r().string,invalid:r().bool,tooltip:r().bool,valid:r().bool},o.displayName="CFormFeedback"},68109:(e,a,l)=>{l.d(a,{S:()=>o});var t=l(5664),n=l(65043),s=l(65173),r=l.n(s),c=l(65689),o=(0,n.forwardRef)((function(e,a){var l=e.children,s=e.className,r=(0,t.Tt)(e,["children","className"]);return n.createElement("div",(0,t.Cl)({className:(0,c.A)("form-floating",s)},r,{ref:a}),l)}));o.propTypes={children:r().node,className:r().string},o.displayName="CFormFloating"},63821:(e,a,l)=>{l.d(a,{U:()=>i});var t=l(5664),n=l(65043),s=l(65173),r=l.n(s),c=l(65689),o=["xxl","xl","lg","md","sm","xs"],i=(0,n.forwardRef)((function(e,a){var l=e.children,s=e.className,r=(0,t.Tt)(e,["children","className"]),i=[];return o.forEach((function(e){var a=r[e];delete r[e];var l="xs"===e?"":"-".concat(e);"number"!==typeof a&&"string"!==typeof a||i.push("col".concat(l,"-").concat(a)),"boolean"===typeof a&&i.push("col".concat(l)),a&&"object"===typeof a&&("number"!==typeof a.span&&"string"!==typeof a.span||i.push("col".concat(l,"-").concat(a.span)),"boolean"===typeof a.span&&i.push("col".concat(l)),"number"!==typeof a.order&&"string"!==typeof a.order||i.push("order".concat(l,"-").concat(a.order)),"number"===typeof a.offset&&i.push("offset".concat(l,"-").concat(a.offset)))})),n.createElement("div",(0,t.Cl)({className:(0,c.A)(i.length>0?i:"col",s)},r,{ref:a}),l)})),d=r().oneOfType([r().bool,r().number,r().string,r().oneOf(["auto"])]),m=r().oneOfType([d,r().shape({span:d,offset:r().oneOfType([r().number,r().string]),order:r().oneOfType([r().oneOf(["first","last"]),r().number,r().string])})]);i.propTypes={children:r().node,className:r().string,xs:m,sm:m,md:m,lg:m,xl:m,xxl:m},i.displayName="CCol"},50280:(e,a,l)=>{l.d(a,{s:()=>i});var t=l(5664),n=l(65043),s=l(65173),r=l.n(s),c=l(65689),o=["xxl","xl","lg","md","sm","xs"],i=(0,n.forwardRef)((function(e,a){var l=e.children,s=e.className,r=(0,t.Tt)(e,["children","className"]),i=[];return o.forEach((function(e){var a=r[e];delete r[e];var l="xs"===e?"":"-".concat(e);"object"===typeof a&&(a.cols&&i.push("row-cols".concat(l,"-").concat(a.cols)),"number"===typeof a.gutter&&i.push("g".concat(l,"-").concat(a.gutter)),"number"===typeof a.gutterX&&i.push("gx".concat(l,"-").concat(a.gutterX)),"number"===typeof a.gutterY&&i.push("gy".concat(l,"-").concat(a.gutterY)))})),n.createElement("div",{className:(0,c.A)("row",i,s),ref:a},l)})),d=r().shape({cols:r().oneOfType([r().oneOf(["auto"]),r().number,r().string]),gutter:r().oneOfType([r().string,r().number]),gutterX:r().oneOfType([r().string,r().number]),gutterY:r().oneOfType([r().string,r().number])});i.propTypes={children:r().node,className:r().string,xs:d,sm:d,md:d,lg:d,xl:d,xxl:d},i.displayName="CRow"}}]);
//# sourceMappingURL=597.2ef17b95.chunk.js.map